second.jsp
-----------
<!-- ex on session object-->

<html> <body>

<h2>Infotech computers</h2>

<%

String name= (String)session.getAttribute("user"); 
out.print("Hello "+name);
 
%>

</body> </html>



PremJsp6

Index.jsp

<!-- Ex on application object -->

<h1>Infotech Computers Ex on Application Object</h1>

<form action="welcome.jsp">

<input type="text" name="uname">

<input type="submit" value="go"><br/>

</form>

Welcome.jsp

<!-- ex on application object -->

<% out.print("Welcome"

+request.getParameter("uname"));

String n=application.getInitParameter("office");

out.print("<br>Office name is "+n);

%>




WEB_INF/web.xml

<web-app>

<servlet>

<servlet-name>s1</servlet-name>

<jsp-file>welcome.jsp</jsp-file>

</servlet>

<servlet-mapping>

<servlet-name>s1</servlet-name>

<url-pattern>welcome</url-pattern>

</servlet-mapping>

<context-param>

<param-name>office</param-name>

<param-value>Infotech</param-value>

</context-param>

</web-app>


Prem/sp7

Index.jsp

<!-- Ex on config object -->

<h1>infotech Computers - Ex on Config Objects </h1>

<form action="welcome.jsp">

<input type="text" name="uname">

<input type="submit" value="go"><br/>

</form>

Welcome.jsp

<!-- Ex on config object ->

<html><body>

<h1>Welcome to <%=

application.getInitParameter("office") %></h1>

</body></html>

WEB-INF/web.xml

<web-app>

<servlet>

<servlet-name>s1</servlet-name>

<jsp-file>welcome.jsp</jsp-file> 

</servlet>


<servlet-mapping>

<servlet-name>s1</servlet-name>

<url-pattern>welcome</url-pattern>

</servlet-mapping>

<context-param>

<param-name>office</param-name>

<param-value>Infotech</param-value>

</context-param>

</web-app>




PremJsp8

Index.jsp

<!-- Ex on pageContext object ->

<h1>Infotech Computers Ex on pageCom

Object</h1>

<form action="welcome.jsp">

<input type="text" name="uname">

<input type="submit" value="go"><br/>

</form>

welcome.jsp

<!--ex on pageContext object-->

<html> <body>

<%

String name=request.getParameter("uname");

out.print("Welcome"+name);

pageContext.setAttribute("user",name, PageContext.

SESSION_SCOPE);

%>

<a href="second.jsp">second jsp page</a>

</body>

</html>

second.jsp

<html> <body>

<% String name = (String)pageContext.getAttribute("user", PageContext.SESSION_SCOPE);

out.print("Hello "+name); %>

</body>

</html>




PremJsp9

Index.jsp

<!-- ex on exception object and is Error Page -->

<h2>Ex on exception object </h2>

<form action="process.jsp">

No1:<input type="text" name="n1" /><br/><br/>

No2:<input type="text" name="n2" /><br/><br/>

<input type="submit" value="divide"/></form>

process.jsp

<%@ page errorPage="error.jsp" %> <%

String num1=request.getParameter("n1");

String num2=request.getParameter("n2"):

int a=Integer.parseInt(num1);

int b=Integer.parseInt(num2);

int c=a/b;

out.print("division of numbers is: "+c);

%>

error.jsp

<%@ page isErrorPage="true" %>

<h3>Sorry an exception occured!</h3>



Premisp10

Index.jsp

<!--Ex on include directive ->

<html><body>

<%@ indude file="header.html" %>

<h3>Ex on include directive </h3>

</body></html>

header.html

<h1 align="center">Infotech Computers</h1> 
<h3 align="center">Bhagyanagar</h3>



PremJsp11

Index.jsp

<!-- page forwarding -->

<html><body>

<h2>this is index page</h2>

<jsp:forward page="printdate.jsp" >

<jsp:param name="name" value="Prem "/>

</jsp:forward>

</body></html>



printdata.jsp

<html><body>

<% out.print("Today is:" +

java.util.Calendar.getInstance().getTime()); %>

<br>

parameter name is:

<%=request.getParameter("name") %>

</body></html>


PremJsp12

Index.jsp

<!-- jsp action-include->

<h2>this is index page</h2>

<jsp:include page="printdate.jsp" />

<h2>end section of index page</h2>

printdate.jsp

<% out.print("Today is:" +

java.util.Calendar.getinstance().getTime()); %>



PremJsp13

index.jsp

<!--ex on action tag-useBean

<html><body>

<jsp:useBean id="obj" class= "com.infotech.Calculator"/>

<%
int m=obj.cube(5);

out.print("cube of 5 is "+m):
%>
</body></html>

WEB-INF/classes/com/infotech/Calculator.java

package com.infotech;

public class Calculator

{public int cube(int n){return n*n*n;}
}





PremJsp15

Index.jsp

<!-- Ex on Action tag - usebean->

<form action="welcome.jsp"/>

Enter Name:<input type="text" name="name"/>

<input type="submit" value="go" />

</form>

welcome.jsp

<jsp:useBean id="obj" class ="com.infotech.User" />

<jsp:setProperty name="obj" property="*" />    `*`<<---------------------------<<-------------- Automatically set all properties of the bean obj that match form parameters sent from the client (like from an HTML form)

Welcome, <jsp:getProperty name="obj" property="name" /> 


WEB-INF/classes/com/infotech/User.java

package com.infotech;

public class User

private String name;

public void setName(String name){

this.name=name:
}
public String getName(){

return name;
}
}

PremJsp16

Index.jsp

<!-- ex on jsp action plugin ->>

<html> <head>

<title>Mouse Drag</title>

</head>

<body bgcolor="khaki">

<h1>Mouse Drag Example</h1>

<jsp:plugin align="middle" height="500"

width="500" type="applet"

code="MouseDrag.class"

name="clock" codebase="."/>

</body></html>

MouseDrag.java

import java.awt.*;
import java.awt.event.*;
import java.applet.*;

public class MouseDrag extends Applet implements MouseMotionListener {

    public void init() {
        addMouseMotionListener(this);   // Register for mouse motion events
        setBackground(Color.red);       // Set red background
    }

    public void mouseDragged(MouseEvent me) {
        Graphics g = getGraphics();     // Get the Graphics object to draw on the applet
        g.setColor(Color.white);        // Set drawing color to white
        g.fillOval(me.getX(), me.getY(), 20, 20);  // Draw a small circle where mouse is dragged
    }

    public void mouseMoved(MouseEvent me) {
        // Not used, but required by interface
    }
}


PremJsp17

Index.jsp

<!--Ex on expression language

To read data from another page -->

<form action="process.jsp">

Enter name: <input type="text"

name="name"/> <br/> <br/>

<input type="submit" value="go"/>

</form>

process.jsp

Welcome, $(param.name)



PremJsp19

Index.jsp

<!--Ex on cookies and ExpressionLanguage --> 
<h1>First JSP</h1>

<%

Cookie ck=new Cookie("name", "PremKumar");

response.addCookie(ck);
%>
 

<a href="process.jsp">click</a>

process.jsp

Hello, $(cookie.name.value)



PremJspTLD21

index.jsp

<!-- Ex on jsp taglib directive ->

<%@ taglib prefix="mytag" uri="/WEB-INF/sumtaglib.tld" %>

<html>
<head><title>Custom Tag Example</title></head>
<body>
    <h2>Sum of two numbers using custom tag</h2>
    <mytag:sum num1="5" num2="10" />
</body>
</html>


Web-inf/classes/SumTagHandler.java

import javax.servlet.jsp.tagext.*;
import javax.servlet.jsp.*;
import java.io.*;

public class SumTagHandler extends SimpleTagSupport {
    private int num1, num2;

    // Setters for num1 and num2 (required for the JSP engine to pass values)
    public void setNum1(int num1) {
        this.num1 = num1;
    }

    public void setNum2(int num2) {
        this.num2 = num2;
    }

    public void doTag() throws JspException, IOException {
        int sum = num1 + num2;

        JspWriter out = getJspContext().getOut(); // fix typo: getispContext â†’ getJspContext
        out.println("Sum of " + num1 + " and " + num2 + " is: " + sum);
    }
}


WEB-INF/sumtaglib.tld

<?xml version="1.0" encoding="UTF-8"?>
<taglib xmlns="http://java.sun.com/xml/ns/j2ee"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
                            http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"
        version="2.0">

    <tlib-version>1.0</tlib-version>
    <short-name>sumtaglib</short-name>
    <uri>/WEB-INF/sumtaglib.tld</uri>

    <tag>
        <name>sum</name>
        <tag-class>SumTagHandler</tag-class>
        <body-content>empty</body-content>

        <attribute>
            <name>num1</name>
            <required>true</required>
            <rtexprvalue>true</rtexprvalue>
        </attribute>

        <attribute>
            <name>num2</name>
            <required>true</required>
            <rtexprvalue>true</rtexprvalue>
        </attribute>
    </tag>
</taglib>
